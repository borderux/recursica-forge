/* Ensure SVG icons scale to fill their container */
/* Override fixed width/height attributes on SVGs */
.cds--btn svg {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  max-height: 100% !important;
  flex-shrink: 0;
}

/* Size and space Carbon button icons */
/* Carbon buttons render icons as direct children, so we need to target them */
.cds--btn > svg:first-child:not(:last-child) {
  width: var(--button-icon-size, 0px) !important;
  height: var(--button-icon-size, 0px) !important;
  margin-right: var(--button-icon-text-gap, 0px) !important;
  flex-shrink: 0 !important;
}

/* Carbon buttons render text as direct children */
/* Apply truncation to text nodes and span elements that are not icons */
.cds--btn {
  /* Set max-width on button root to constrain content */
  max-width: calc(var(--button-content-max-width, var(--recursica-ui-kit-components-button-content-max-width)) - var(--button-icon-size, 0px) - var(--button-icon-text-gap, 0px)) !important;
}

/* Target text content for truncation */
.cds--btn > *:not(svg) {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  flex: 1 !important;
  min-width: 0 !important;
}

/* For text-only buttons (no icon), use full content max width and center */
.cds--btn:not(:has(> svg)) {
  max-width: var(--button-content-max-width, var(--recursica-ui-kit-components-button-content-max-width)) !important;
  justify-content: center !important;
}

.cds--btn:not(:has(> svg)) > * {
  flex: none !important;
}
